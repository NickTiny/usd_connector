#usda 1.0
(
    subLayers = [
        @/home/nick/dev-nick/usd_connector/test_files/source.usda@
    ]
)

over "root"
{
    float3 xformOp:scale = (1, 1, 1)
    double3 xformOp:translate = (0, 0, 0)
    uniform token[] xformOpOrder = ["xformOp:translate", "xformOp:scale"]

    over "Cube_001"
    {
        over "Cube_002"
        {
            normal3f[] normals = [(-1, 0, 0), (-1, 0, 0), (-1, 0, 0), (-1, 0, 0), (0.16157514, 0.97354347, 0.16157512), (0.16157514, 0.97354347, 0.16157512), (0.16157514, 0.97354347, 0.16157512), (0.16157514, 0.97354347, 0.16157512), (0.99538445, 0.06785965, 0.06785969), (0.99538445, 0.06785965, 0.06785969), (0.99538445, 0.06785965, 0.06785969), (0.99538445, 0.06785965, 0.06785969), (0, -1, 0), (0, -1, 0), (0, -1, 0), (0, -1, 0), (0, 0, -1), (0, 0, -1), (0, 0, -1), (0, 0, -1), (0.026327772, 0.026327772, 0.99930656), (0.026327772, 0.026327772, 0.99930656), (0.026327772, 0.026327772, 0.99930656), (0.026327772, 0.026327772, 0.99930656)]
            point3f[] points = [(-1, -1, -1), (-1, -1, 1), (-1, 1, -1), (-1, 1, 1), (1, -1, -1), (1, -1, 1), (1, 1, -1), (0.7747494, 0.38734627, 0.9166913)]
        }
    }

    over "Cube"
    {
        over "Cube_001"
        {
            rel material:binding = </root/_materials/Material_002>
        }
    }

    def DomeLight "env_light"
    {
        float inputs:intensity = 1
        asset inputs:texture:file = @./textures/color_121212.hdr@
        float3 xformOp:rotateXYZ = (90, -0, 90)
        uniform token[] xformOpOrder = ["xformOp:rotateXYZ"]
    }

    def Scope "_materials"
    {
        custom string userProperties:blender:object_name = "_materials"

        def Material "Material_002"
        {
            token outputs:surface.connect = </root/_materials/Material_002/Principled_BSDF.outputs:surface>
            custom string userProperties:blender:data_name = "Material_002"

            def Shader "Principled_BSDF"
            {
                uniform token info:id = "UsdPreviewSurface"
                float inputs:clearcoat = 0
                float inputs:clearcoatRoughness = 0.03
                color3f inputs:diffuseColor = (0.8002356, 0.0070494935, 0)
                float inputs:ior = 1.5
                float inputs:metallic = 0
                float inputs:opacity = 1
                float inputs:roughness = 0.5
                float inputs:specular = 0.5
                token outputs:surface
            }
        }
    }
}

